(this["webpackJsonpru-course-history"]=this["webpackJsonpru-course-history"]||[]).push([[0],{20:function(e,t,n){},24:function(e,t,n){},26:function(e,t,n){"use strict";n.r(t);var c=n(1),s=n(0),r=n.n(s),a=n(4),i=n.n(a),o=(n(20),n(3)),l=n(12),u=n(7),d=n(13),j=n(31),h={0:"Winter",1:"Spring",7:"Summer",9:"Fall"};var b=function(e){var t,n=e.terms,s=e.course,r=Math.max.apply(Math,Object(d.a)(n.map((function(e){return s.terms[e]||0}))));t=1===r?function(e){return"green"}:Object(j.a)().domain([1,r]).range(["#bfdfbf","green"]);var a=n.map((function(e){var n="white",c="No sections";e in s.terms&&(s.terms[e]>0?(n=t(s.terms[e]),c="".concat(s.terms[e]," section").concat(s.terms[e]>1?"s":"")):(n="gray",c="Different course title"));var r="".concat(h[e[0]]," ").concat(e.substr(1));return{tip:"".concat(r,"<br/>").concat(c),color:n,width:"0"===e[0]||"7"===e[0]?20:50,marginRight:"1"===e[0]?10:1}}));return Object(c.jsxs)("div",{className:"course",children:[Object(c.jsx)("div",{children:Object(c.jsxs)("span",{className:"courseTitle",children:[s.cid,": ",s.title]})}),Object(c.jsx)("div",{children:a.map((function(e){var t=e.tip,n=e.color,s=e.width,r=e.marginRight;return Object(c.jsx)("div",{className:"termIndicator","data-tip":t,style:{backgroundColor:n,width:s,marginRight:r}})}))})]})};var m=function(e){var t=e.subjectId,n=e.terms,r=e.showGrad,a=Object(s.useState)(null),i=Object(o.a)(a,2),l=i[0],d=i[1];Object(s.useEffect)((function(){fetch("/ru-course-history"+"/data/".concat(t,".json")).then((function(e){return e.json()})).then((function(e){return d(e)}))}),[t]),Object(s.useEffect)((function(){u.a.rebuild()}),[l,n,r]);var j=l&&l.courses.filter((function(e){return e.cid[7]<"5"||r})).map((function(e){return Object(c.jsx)(b,{course:e,terms:n})}));return l?j&&0!==j.length?Object(c.jsxs)("div",{children:[Object(c.jsxs)("h2",{children:["Courses in ",l.name]}),j]}):Object(c.jsx)("span",{children:"No courses available (they may be filtered)"}):Object(c.jsx)("span",{children:"Loading..."})};n(24);var f=function(e){var t=e.onDismiss;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{className:"modalOverlay",onClick:t}),Object(c.jsxs)("div",{className:"modal",children:[Object(c.jsx)("button",{className:"modalClose",onClick:t,children:"close"}),Object(c.jsxs)("div",{className:"modalContent",children:[Object(c.jsx)("h1",{children:"Important Disclaimer"}),Object(c.jsx)("p",{children:"I don't hold the crystal ball of course scheduling. Use this tool at your own risk, and always consult with a department advisor for scheduling questions or concerns. Past results do not guarantee future outcomes."})]})]})]})};var O=function(){var e=Object(s.useState)(),t=Object(o.a)(e,2),n=t[0],r=t[1],a=Object(s.useState)(void 0),i=Object(o.a)(a,2),d=i[0],j=i[1],h=Object(s.useState)(!1),b=Object(o.a)(h,2),O=b[0],v=b[1],x=Object(s.useState)(!1),p=Object(o.a)(x,2),g=p[0],w=p[1],y=Object(s.useState)((function(){return"false"===(window.localStorage.getItem("disclaimed")||"false")})),S=Object(o.a)(y,2),N=S[0],k=S[1];Object(s.useEffect)((function(){fetch("/ru-course-history/data/index.json").then((function(e){return e.json()})).then((function(e){return r(e)}))}),[]),Object(s.useEffect)((function(){window.localStorage.setItem("disclaimed",String(!N))}),[N]);var C=null===n||void 0===n?void 0:n.subjects.map((function(e){return{value:e.id,label:"".concat(e.name," (").concat(e.id,")")}})),I=O?null===n||void 0===n?void 0:n.availableTerms:null===n||void 0===n?void 0:n.availableTerms.filter((function(e){return e.startsWith("1")||e.startsWith("9")}));return Object(c.jsxs)("div",{className:"App",children:[Object(c.jsxs)("div",{className:"topBar",children:[Object(c.jsx)("div",{className:"search",children:Object(c.jsx)(l.a,{value:d,onChange:function(e){return j(e)},options:C})}),Object(c.jsxs)("div",{className:"options",children:[Object(c.jsxs)("label",{children:[Object(c.jsx)("input",{type:"checkbox",checked:O,onChange:function(){return v(!O)}})," ","Show Winter/Summer"]}),Object(c.jsxs)("label",{children:[Object(c.jsx)("input",{type:"checkbox",checked:g,onChange:function(){return w(!g)}})," ","Show Graduate"]}),Object(c.jsx)("button",{style:{marginLeft:5},onClick:function(){return k(!N)},children:"Disclaimer"})]})]}),Object(c.jsx)("div",{className:"spacer"}),Object(c.jsx)("div",{className:"results",children:I&&d&&Object(c.jsx)(m,{subjectId:d.value,terms:I,showGrad:g})||Object(c.jsx)("div",{children:"Select a subject!"})}),Object(c.jsx)(u.a,{effect:"solid",html:!0}),N&&Object(c.jsx)(f,{onDismiss:function(){return k(!N)}})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(O,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[26,1,2]]]);
//# sourceMappingURL=main.8eab0060.chunk.js.map